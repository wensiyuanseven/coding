<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 实现 getValue 函数来获取path对应的值

        var object = { a: [{ b: { c: 3 } }] }; // path: 'a[0].b.c'
        var array = [{ a: { b: [1] } }]; // path: '[0].a.b[0]'
        // console.log(getValue(object, "a[0].b.c", 0)); // 输出3
        // console.log(getValue(array, "[0].a.b[0]", 12)); // 输出 1
        // console.log(getValue(array, "[0].a.b[0].c", 12)); // 输出 12
        // 有值添加,没值输出
        // isObjet
        // \w \s \d
        function getValue(target, valuePath, defaultValue) {
            let arr = valuePath.split(/\W/g).join('').replace(/\s+/g, '').split('')
            let currentVal = target
            for (let index = 0; index < arr.length; index++) {
                const element = arr[index];
                currentVal = currentVal[element]
                if (currentVal == null) {
                    return defaultValue
                }
            }
            return currentVal
        }

        let result = getValue(array, '[0].a.b[0].c', 12)
        console.log(result, 'result')
    </script>
</body>

</html>